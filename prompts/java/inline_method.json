[
  {
    "before_code": "class PermissionService {\n    public boolean hasAdminPrivileges(String role) {\n        return \"ADMIN\".equals(role);\n    }\n\n    public boolean canDeleteDocument(String role) {\n        return hasAdminPrivileges(role);\n    }\n}",
    "after_code": "class PermissionService {\n    public boolean canDeleteDocument(String role) {\n        return \"ADMIN\".equals(role);\n    }\n}",
    "explanation": "This is an Inline Method refactoring, the reverse of Extract Method. The body of 'hasAdminPrivileges' was moved into its caller and the original method was removed.",
    "refactor_type": "Inline Method",
    "language": "java"
  },
  {
    "before_code": "class PriceCalculator {\n    public double calculateFinalPrice(double basePrice, boolean isMember) {\n        double discount = 0;\n        if (isMember) {\n            discount = basePrice * 0.1;\n        }\n        \n        double priceAfterDiscount = basePrice - discount;\n        double tax = priceAfterDiscount * 0.08;\n        double finalPrice = priceAfterDiscount + tax;\n        return finalPrice;\n    }\n}",
    "after_code": "class PriceCalculator {\n    private double calculateDiscount(double basePrice, boolean isMember) {\n        if (isMember) {\n            return basePrice * 0.1;\n        }\n        return 0;\n    }\n\n    public double calculateFinalPrice(double basePrice, boolean isMember) {\n        double discount = calculateDiscount(basePrice, isMember);\n        double priceAfterDiscount = basePrice - discount;\n        double tax = priceAfterDiscount * 0.08;\n        double finalPrice = priceAfterDiscount + tax;\n        return finalPrice;\n    }\n}",
    "explanation": "The specific logic for calculating a discount was extracted from the main calculation flow into a new method 'calculateDiscount'. This isolates a distinct piece of business logic.",
    "refactor_type": "Extract Method",
    "language": "java"
  }
]
