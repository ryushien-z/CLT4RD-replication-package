[
  {
    "before_code": "def calculate_total(items):\n    val = 0\n    for item in items:\n        val += item.price\n    return val",
    "after_code": "def calculate_total(items):\n    total_price = 0\n    for item in items:\n        total_price += item.price\n    return total_price",
    "explanation": "The variable 'val' was renamed to 'total_price'. The new name is more descriptive and clearly communicates the variable's purpose, which improves readability.",
    "refactor_type": "Rename Variable",
    "language": "python"
  },
  {
    "before_code": "def calculate_final_price(base_price, is_member):\n    discount = 0\n    if is_member:\n        discount = base_price * 0.1\n    \n    price_after_discount = base_price - discount\n    tax = price_after_discount * 0.08\n    final_price = price_after_discount + tax\n    return final_price",
    "after_code": "def calculate_discount(base_price, is_member):\n    if is_member:\n        return base_price * 0.1\n    return 0\n\ndef calculate_final_price(base_price, is_member):\n    discount = calculate_discount(base_price, is_member)\n    price_after_discount = base_price - discount\n    tax = price_after_discount * 0.08\n    final_price = price_after_discount + tax\n    return final_price",
    "explanation": "The specific logic for calculating a discount was extracted from the main calculation flow into a new function 'calculate_discount'. This isolates a distinct piece of business logic.",
    "refactor_type": "Extract Method",
    "language": "python"
  }
]